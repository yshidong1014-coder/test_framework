{"uid":"d62ec24486204913","name":"测试修改订单功能","fullName":"test_framework#test_update_booking_framework","historyId":"f27caef5f556ba315f9ef28cf1c87f95","time":{"start":1766132004503,"stop":1766132004503,"duration":0},"status":"broken","statusMessage":"TypeError: BookingApi.update_booking() missing 1 required positional argument: 'token'","statusTrace":"booking_service = <api_objects.booking_api.BookingApi object at 0x7f9b76566c50>\nactive_booking_id = 1576\n\n    @allure.feature(\"架构模式更改测试\")\n    @allure.title(\"测试修改订单功能\")\n    def test_update_booking_framework(booking_service, active_booking_id):\n        # 准备数据\n        data = {\n            \"firstname\": \"Framework\",\n            \"lastname\": \"Master\",\n            \"totalprice\": 999,\n            \"depositpaid\": True,\n            \"bookingdates\": {\"checkin\": \"2024-01-01\", \"checkout\": \"2024-01-02\"},\n            \"additionalneeds\": \"Dinner\"\n        }\n    \n        # 使用 Fixture 提供的动态 ID，不再硬编码 1\n        # 也不再手动传 token，因为我们在 fixture 里配置好 header 了 (视你的封装而定)\n>       res = booking_service.update_booking(booking_id=active_booking_id, data=data)\nE       TypeError: BookingApi.update_booking() missing 1 required positional argument: 'token'\n\ntest_framework.py:72: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1766132004137,"stop":1766132004137,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1766132004137,"stop":1766132004138,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766132004138,"stop":1766132004138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1766132004138,"stop":1766132004409,"duration":271},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1766132004138,"stop":1766132004138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"booking_service","time":{"start":1766132004409,"stop":1766132004486,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"active_booking_id","time":{"start":1766132004487,"stop":1766132004502,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"active_booking_id::0","time":{"start":1766132004531,"stop":1766132004531,"duration":0},"status":"broken","statusMessage":"TypeError: BookingApi.delete_booking() missing 1 required positional argument: 'token'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 924, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/test_framework/test_framework/test_framework.py\", line 51, in active_booking_id\n    booking_service.delete_booking(booking_id)\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"booking_service::0","time":{"start":1766132013382,"stop":1766132013384,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1766132013384,"stop":1766132013392,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"架构模式更改测试"},{"name":"suite","value":"test_framework"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3234-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_framework"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"d62ec24486204913.json","parameterValues":[]}