{"uid":"f168164038929686","name":"测试修改订单功能","fullName":"test_framework#test_update_booking_framework","historyId":"f27caef5f556ba315f9ef28cf1c87f95","time":{"start":1766125619062,"stop":1766125619062,"duration":0},"status":"broken","statusMessage":"NameError: name 'uuid' is not defined","statusTrace":"playwright = <playwright._impl._playwright.Playwright object at 0x7f8038d597b0>\n\n    @pytest.fixture(scope=\"session\")\n    def booking_service(playwright: Playwright):\n        context = playwright.request.new_context(base_url=\"https://restful-booker.herokuapp.com\")\n        service = BookingApi(context)\n    \n        # 登录并保存 Token (建议直接更新到 headers，这样后续调用都不用传 token 了)\n>       res = service.login(\"admin\", \"password123\")\n\ntest_framework.py:13: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napi_objects/booking_api.py:31: in login\n    encrypted_password = self._encrypt_password(password)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <api_objects.booking_api.BookingApi object at 0x7f8038e2a530>\npassword = 'password123'\n\n    def _encrypt_password(self, password):\n        # 1. 生成一个随机的 UUID (每次都不一样)\n>       uid = str(uuid.uuid4())\nE       NameError: name 'uuid' is not defined\n\napi_objects/booking_api.py:8: NameError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1766125619063,"stop":1766125619063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1766125619063,"stop":1766125619063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766125619063,"stop":1766125619063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1766125619063,"stop":1766125619063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1766125619064,"stop":1766125619336,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"booking_service","time":{"start":1766125619337,"stop":1766125619343,"duration":6},"status":"broken","statusMessage":"NameError: name 'uuid' is not defined\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 908, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/test_framework/test_framework/test_framework.py\", line 13, in booking_service\n    res = service.login(\"admin\", \"password123\")\n  File \"/home/runner/work/test_framework/test_framework/api_objects/booking_api.py\", line 31, in login\n    encrypted_password = self._encrypt_password(password)\n  File \"/home/runner/work/test_framework/test_framework/api_objects/booking_api.py\", line 8, in _encrypt_password\n    uid = str(uuid.uuid4())\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"playwright::0","time":{"start":1766125619384,"stop":1766125619392,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"架构模式更改测试"},{"name":"suite","value":"test_framework"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3219-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_framework"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"f168164038929686.json","parameterValues":[]}